"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7922],{7922:(F,d,s)=>{s.r(d),s.d(d,{EditPageModule:()=>C});var c=s(6895),p=s(4719),i=s(5616),u=s(8359),g=s(5861),m=s(2986),e=s(6738),h=s(7556),f=s(4530),T=s(8261),y=s(4742);function v(n,l){if(1&n&&(e.TgZ(0,"ion-select-option",18),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function P(n,l){if(1&n&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.hij(" ",t," ")}}function Z(n,l){if(1&n&&(e.TgZ(0,"ion-select-option",18),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}const _=[{path:"",component:(()=>{class n{constructor(t,o,r,a,S,E,J){this.authService=t,this.stationService=o,this.mapService=r,this.appService=a,this.location=S,this.toastController=E,this.alertController=J,this.updateTypeList=A=>{this.appService.updateTypeList(A.detail.value),this.data.type=this.appService.typeList[0]},this.back=()=>{this.location.back()}}ngOnInit(){this.allPayments=this.appService.paymentList,this.stationService.currentStation.pipe((0,m.q)(1)).subscribe(t=>{this.place=t.place}),this.selectedText="Todas as formas de pagamento",this.appService.updateTypeList(this.appService.currentFuel),this.data={fuel:this.appService.currentFuel,type:this.appService.typeList[0],payments:this.allPayments,price:"0,00"},this.sequence=""}updateText(){this.selectedText=this.data.payments.length==this.allPayments.length?"Todas as formas de pagamento":this.data.payments.reduce((t,o)=>(t.push(o.name),t),[]).join(", ")}formatNumber(t,o=",",r=2){window.requestAnimationFrame(()=>{if(console.log(t),"deleteContentBackward"==t.detail.inputType)this.sequence=this.sequence.slice(0,-1);else{let a=t.detail.data;console.log(a),isNaN(+a)||(this.sequence+=a)}t.target.value=""==this.sequence?"0,00":(+this.sequence/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})})}postPrice(){var t=this;return(0,g.Z)(function*(){t.sequence.length>0?(t.appService.showLoading(),t.data.price=t.sequence+"0",t.data.type=t.data.type.trim(),yield t.stationService.postPrice(t.data,t.authService.idToken),t.mapService.updateMarkers(),t.back()):(yield t.toastController.create({message:"O pre\xe7o n\xe3o pode ser zero.",duration:2e3})).present()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.e),e.Y36(f.v),e.Y36(T.S),e.Y36(y.z),e.Y36(c.Ye),e.Y36(i.yF),e.Y36(i.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit"]],decls:37,vars:12,consts:[["slot","start"],["scroll-y","false"],["size","5"],["interface","popover",1,"ion-text-center",2,"font-size","24px",3,"ngModel","compareWith","selectedText","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"item-thin"],["interface","popover",1,"ion-text-center",2,"font-size","14px",3,"ngModel","selectedText","ngModelChange"],[4,"ngFor","ngForOf"],["size","6"],["value","0,00","inputmode","decimal",1,"ion-text-center",2,"font-size","24px",3,"ionInput"],["multiple","true",1,"ion-text-center",2,"font-size","12px",3,"ngModel","selectedText","ngModelChange","ionChange"],["size","1",1,"align-center-middle",2,"flex-direction","column"],["color","primary",3,"click"],["name","checkmark-outline"],["color","danger",3,"click"],["name","close-outline"],["id","footer"],["src","//www.profitabledisplayformat.com/watchnew?key=5016b984cb0dea604afd3a1eb085b274","width","320","height","50","frameborder","0","scrolling","no"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3," PostoBarato "),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content",1)(7,"ion-card")(8,"ion-card-header")(9,"ion-card-title"),e._uU(10),e.qZA(),e.TgZ(11,"ion-card-subtitle"),e._uU(12),e.qZA()(),e.TgZ(13,"ion-card-content")(14,"ion-item")(15,"ion-grid")(16,"ion-row")(17,"ion-col",2)(18,"ion-item")(19,"ion-select",3),e.NdJ("ngModelChange",function(a){return o.data.fuel=a})("ionChange",function(a){return o.updateTypeList(a)}),e.YNc(20,v,2,2,"ion-select-option",4),e.qZA()(),e.TgZ(21,"ion-item",5)(22,"ion-select",6),e.NdJ("ngModelChange",function(a){return o.data.type=a}),e.YNc(23,P,2,1,"ion-select-option",7),e.qZA()()(),e.TgZ(24,"ion-col",8)(25,"ion-item")(26,"ion-input",9),e.NdJ("ionInput",function(a){return o.formatNumber(a)}),e.qZA()(),e.TgZ(27,"ion-item",5)(28,"ion-select",10),e.NdJ("ngModelChange",function(a){return o.data.payments=a})("ionChange",function(){return o.updateText()}),e.YNc(29,Z,2,2,"ion-select-option",4),e.qZA()()(),e.TgZ(30,"ion-col",11)(31,"ion-button",12),e.NdJ("click",function(){return o.postPrice()}),e._UZ(32,"ion-icon",13),e.qZA(),e.TgZ(33,"ion-button",14),e.NdJ("click",function(){return o.back()}),e._UZ(34,"ion-icon",15),e.qZA()()()()()()()(),e.TgZ(35,"ion-footer",16),e._UZ(36,"iframe",17),e.qZA()),2&t&&(e.xp6(10),e.hij(" ",o.place.name," "),e.xp6(2),e.hij(" ",o.place.address," "),e.xp6(7),e.Q6J("ngModel",o.data.fuel)("compareWith",o.appService.compareName)("selectedText",o.data.fuel.symbol),e.xp6(1),e.Q6J("ngForOf",o.appService.fuelSelector),e.xp6(2),e.Q6J("ngModel",o.data.type)("selectedText",o.data.type),e.xp6(1),e.Q6J("ngForOf",o.appService.typeList),e.xp6(5),e.Q6J("ngModel",o.data.payments)("selectedText",o.selectedText),e.xp6(1),e.Q6J("ngForOf",o.allPayments))},dependencies:[c.sg,p.JJ,p.On,i.oU,i.YG,i.Sm,i.PM,i.FN,i.Zi,i.tO,i.Dq,i.wI,i.W2,i.fr,i.jY,i.Gu,i.gu,i.pK,i.Ie,i.Nd,i.t9,i.n0,i.wd,i.sr,i.QI,i.j9,i.cs],styles:["ion-select[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]{width:100%;padding:0}ion-select[_ngcontent-%COMP%]::part(text){white-space:normal!important}ion-input[_ngcontent-%COMP%]{--padding-top:0;--padding-bottom:0}ion-item[_ngcontent-%COMP%]{--inner-padding-start:0;--inner-padding-end:0;--padding-start:0}ion-item.item-thin[_ngcontent-%COMP%]{--min-height:24px}.align-center-middle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(_),u.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,p.u5,i.Pc,M]}),n})()}}]);