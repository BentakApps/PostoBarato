"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3478],{3478:(Z,s,a)=>{a.r(s),a.d(s,{HomePageModule:()=>y});var p=a(6895),m=a(4719),u=a(5616),g=a(8359),d=a(5861),e=a(6738),_=a(7556);let f=(()=>{class n{constructor(){this.init=t=>new Promise((o,i)=>{try{this.loadScript("GOOGLE","https://accounts.google.com/gsi/client",()=>{google.accounts.id.initialize({client_id:t.client_id,auto_select:!!t.auto_select&&t.auto_select,login_uri:t.login_uri,native_callback:t.native_callback,cancel_on_tap_outside:!t.cancel_on_tap_outside||t.cancel_on_tap_outside,prompt_parent_id:t.prompt_parent_id,nonce:t.nonce,context:t.context?t.context:"signin",state_cookie_domain:t.state_cookie_domain,ux_mode:t.ux_mode?t.ux_mode:"popup",allowed_parent_origin:t.allowed_parent_origin,intermediate_iframe_close_callback:t.intermediate_iframe_close_callback,itp_support:!!t.itp_support&&t.itp_support,callback:t.callback}),o()})}catch(c){i(c)}})}loadScript(t,o,i,c=null){if(typeof document<"u"&&!document.getElementById(t)){let l=document.createElement("script");l.async=!0,l.src=o,l.onload=i,c||(c=document.head),c.appendChild(l)}}renderButton(t,o){console.log(t),google.accounts.id.renderButton(t,{type:o.type?o.type:"standard",theme:o.theme?o.theme:"outline",size:o.size?o.size:"large",text:o.text?o.text:"signin_with",shape:o.shape?o.shape:"rectangular",logo_alignment:o.logo_alignment?o.logo_alignment:"left",width:o.width,locale:o.locale})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var h=a(2982);const v=["signinbutton"],k=[{path:"",component:(()=>{class n{constructor(t,o,i,c){this.authService=t,this.googleAuthService=o,this.networkService=i,this.router=c}ngAfterViewInit(){var t=this;return(0,d.Z)(function*(){const o=yield t.authService.isLoggedIn();var i;console.log(o),o?(console.log("NAVIGATING"),t.router.navigate(["/map"])):t.googleAuthService.init({client_id:"934173952337-ejc5hhli75b4vmghqjjc6jiufomptit2.apps.googleusercontent.com",auto_select:!0,itp_support:!0,login_uri:"https://api.postobarato.tk/googleauth/",callback:(i=(0,d.Z)(function*(c){const b=(yield t.networkService.googleAuthentication({googleToken:c.credential})).data;t.authService.setToken(b),t.router.navigate(["/map"])}),function(l){return i.apply(this,arguments)})}).then(()=>{t.googleAuthService.renderButton(t.signInButton.nativeElement,{type:"standard",shape:"pill",locale:"pt-BR"})})})()}soon(){}signout(){}hardsignout(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.e),e.Y36(f),e.Y36(h.S),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,o){if(1&t&&e.Gf(v,5),2&t){let i;e.iGM(i=e.CRH())&&(o.signInButton=i.first)}},decls:27,vars:0,consts:[[1,"main"],["src","assets/map-background.png",1,"backdrop"],[1,"title","ion-text-center"],[1,"sign-in"],["signinbutton",""],["routerLink","/map"],[1,"note"],[3,"click"],[1,"store-buttons"],["src","assets/google-play.png",1,"badge",3,"click"],["src","assets/app-store.svg",1,"badge","apple-badge",3,"click"],[1,"credits","ion-text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"h1"),e._uU(4,"PostoBarato"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"Sua comunidade de pre\xe7os de combust\xedveis"),e.qZA()(),e.TgZ(7,"div",3),e._UZ(8,"div",null,4),e.TgZ(10,"p")(11,"a",5),e._uU(12," Entrar sem logar "),e.qZA()(),e.TgZ(13,"p",6),e._uU(14," (N\xe3o \xe9 poss\xedvel cadastrar, apenas consultar) "),e.qZA(),e.TgZ(15,"button",7),e.NdJ("click",function(){return o.signout()}),e._uU(16,"Sign out"),e.qZA(),e.TgZ(17,"button",7),e.NdJ("click",function(){return o.hardsignout()}),e._uU(18,"Hard Sign out"),e.qZA()(),e.TgZ(19,"div",8)(20,"img",9),e.NdJ("click",function(){return o.soon()}),e.qZA(),e.TgZ(21,"img",10),e.NdJ("click",function(){return o.soon()}),e.qZA()(),e.TgZ(22,"div",11)(23,"p"),e._uU(24," Google Play e o logotipo do Google Play s\xe3o marcas registradas da Google LLC. "),e.qZA(),e.TgZ(25,"p"),e._uU(26," App Store e o logotipo da Apple s\xe3o marcas registradas da Apple Inc. "),e.qZA()()())},dependencies:[u.Fo,g.yS],styles:[".main[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between;align-items:center;overflow:hidden;position:relative}.backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;opacity:.6;max-width:unset;margin-left:50%;transform:translate(-50%)}.title[_ngcontent-%COMP%]{position:relative;width:100%;color:#215a60;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.sign-in[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;-webkit-backdrop-filter:brightness(.5);backdrop-filter:brightness(.5);width:100%;padding:15px}.sign-in[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}asl-google-signin-button[_ngcontent-%COMP%]{margin-bottom:15px}.note[_ngcontent-%COMP%]{color:var(--ion-text-color);font-size:smaller}.store-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding:10px;position:relative}.badge[_ngcontent-%COMP%]{max-width:50%;height:auto}.apple-badge[_ngcontent-%COMP%]{padding:2%;width:100%}.credits[_ngcontent-%COMP%]{position:relative;width:100%;padding:0;font-size:9px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(k),g.Bz]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,m.u5,u.Pc,P]}),n})()}}]);